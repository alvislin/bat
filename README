Introduction
============

BAT is a small tool to help with automation testing for audio drivers.
BAT can also mean a small flying mammal with big ears and good hearing OR Basic 
Audio Tester OR Basic ALSA Tester. Take your pick.


Install
=======

BAT can be installed by running :-

./autogen.sh
./configure
make
make install


Usage
=====

BAT is intended to analyse audio recorded in loopback mode for quality and gain
errors by comparing the captured audio PCM data to the original PCM data.

BAT should be used as follow command :-

  bat -D plughw:1,0 -r 44100 -c 1 -s 2 -n 88200 -F 997 -f file

Where D is pcm device number, r is sample rate of input file, c is number of channels, s is frame size in bytes, 
n is frames to read, f is input file and F is target frequency.
Normally input file is a sinus and target frequency is the frequency of the sinus.
You need to connect playback to capture through an audio jack cable. 
BAT will capture the playback of the input file and do a FFT to determine fundamental frequency of the input file.
BAT will return a negative result on any errors.


Future Plans
============

1) Support other sample rates and channels.

2) Add Sine wave generator.

3) Detect gain changes, i.e. compare max signal against expected max.

4) Test driver loopback stream latency i.e mesure the time it takes to receive
   samples after playing them.




